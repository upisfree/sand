// Generated by CoffeeScript 1.9.3
var Character, Vector, config, utils;

Vector = require('../global/vector.js');

utils = require('../utils/utils.js');

config = require('./config.js');

Character = (function() {
  function Character(id, angle, x, y) {
    this.id = id;
    if (angle == null) {
      angle = 0;
    }
    if (x == null) {
      x = 0;
    }
    if (y == null) {
      y = 0;
    }
    this.body = Matter.Bodies.rectangle(x, y, 100, 100, {
      angle: angle,
      mass: 100,
      frictionAir: 0.25
    });
    this.mult = 1.5;
    utils.addToWorld(this.body);
    config.characters[this.id] = this;
  }

  Character.prototype.rotate = function(a) {
    return this.body.angle = a;
  };

  Character.prototype.move = function(d) {
    switch (d) {
      case 'up':
        return Matter.Body.applyForce(this.body, {
          x: 0,
          y: 0
        }, Vector.mult(Vector.fromAngle(this.body.angle), this.mult));
      case 'down':
        return Matter.Body.applyForce(this.body, {
          x: 0,
          y: 0
        }, Vector.neg(Vector.mult(Vector.fromAngle(this.body.angle), this.mult)));
    }
  };

  return Character;

})();

module.exports = Character;
