// Generated by CoffeeScript 1.9.3
var Player, core, debug, engine, filters, game, net, player, voice;

window.w = window.innerWidth;

window.h = window.innerHeight;

core = require('./core/core.js');

game = require('./game/game.js');

engine = core.engine;

Player = game.Player;

debug = game.debug;

net = core.net;

voice = core.voice;

filters = game.filters;

Matter.Engine.run(engine);

player = new Player(window.w / 2, window.h / 2);

debug.start();

net.start();

engine.render.gl = new PIXI.Graphics();

setTimeout(function() {
  return engine.render.container.addChild(engine.render.gl);
}, 5000);

engine.render.options.hasBounds = true;

Matter.Events.on(engine, 'tick', function(e) {
  game.time += 0.01;
  Matter.Bounds.shift(engine.render.bounds, {
    x: player.body.position.x - window.w / 2,
    y: player.body.position.y - window.h / 2
  });
  filters.update(game.time);
  return debug.update(engine.timing.fps, net.ping.value, voice.average, player.body.position.x, player.body.position.y);
});
